{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\FSM_Website-routing\\\\src\\\\components\\\\Login\\\\login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './login.css';\nimport logo from './images/logo.png';\nimport db from '../../firebase';\nimport { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst jwt = require('jsonwebtoken');\n\nexport default function Login({\n  setToken\n}) {\n  _s();\n\n  const [form, setForm] = useState({\n    Username: '',\n    Password: ''\n  });\n\n  const handleInputChange = e => {\n    var {\n      name,\n      value\n    } = e.target;\n    setForm({ ...form,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let flag = 1; //console.log(form.Username + \" \" + form.Password)\n\n    db.collection('User').get().then(querySnapshot => {\n      console.log(querySnapshot);\n      querySnapshot.forEach(doc => {\n        //      console.log(doc.data().Email + \" \" + doc.data().Password + \" \" );\n        if (doc.data().email === form.Username && doc.data().password === form.Password) {\n          //alert('hello' + doc.data().username);\n          let token = jwt.sign({\n            username: doc.data().username,\n            email: form.Username,\n            password: form.Password\n          }, 'A_VERY_LONG_STRING_FOR_AUTHNETICATION_AND_USER_PROTECTION', {\n            algorithm: 'HS256'\n          }, {\n            expiresIn: '1hr'\n          });\n          setToken(token);\n          console.log(token);\n          flag = 0;\n        }\n      });\n    }).catch(err => alert(err)).then(() => {\n      if (flag === 1) alert('Invalid credentials');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"vh-100 overflow-hidden\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contianer-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row login-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-5 col-lg-5 col-xl-4 offset-xl-1 login-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"img-fluid mb-3\",\n                src: logo,\n                alt: \"logo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              className: \"mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-outline mb-3 col-8\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  id: \"email\",\n                  className: \"form-control\",\n                  name: \"Username\",\n                  placeholder: \"Username\",\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-outline mb-5 col-8\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  id: \"password\",\n                  className: \"form-control\",\n                  name: \"Password\",\n                  placeholder: \"Password\",\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-outline col-6\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"Submit\",\n                  id: \"submit\",\n                  className: \"form-control btn\",\n                  value: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3 col-lg-4 col-xl-5 image-container\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"image-fluid random\",\n              src: \"https://images.unsplash.com/photo-1617396900799-f4ec2b43c7ae?ixid=MnwxMjA3fDB8MHx2aXN1YWwtc2VhcmNofDF8fHxlbnwwfHx8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60\",\n              alt: \"alt-img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 13\n  }, this);\n}\n\n_s(Login, \"nVHLKJGze92WyChJ8lY1HGrSOvc=\");\n\n_c = Login;\nLogin.propTypes = {\n  setToken: PropTypes.func.isRequired\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/HP/Desktop/FSM_Website-routing/src/components/Login/login.jsx"],"names":["React","useState","PropTypes","logo","db","Redirect","jwt","require","Login","setToken","form","setForm","Username","Password","handleInputChange","e","name","value","target","handleSubmit","preventDefault","flag","collection","get","then","querySnapshot","console","log","forEach","doc","data","email","password","token","sign","username","algorithm","expiresIn","catch","err","alert","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './login.css';\r\nimport logo from './images/logo.png';\r\nimport db from '../../firebase';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst jwt  = require('jsonwebtoken');\r\n\r\nexport default function Login({setToken}){\r\n    const [form, setForm] = useState({\r\n        Username: '',\r\n        Password: ''\r\n    })\r\n    \r\n\r\n\r\n    const handleInputChange = (e) => {\r\n        var {name, value} = e.target\r\n        setForm({\r\n            ...form,[name]:value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let flag = 1;\r\n        //console.log(form.Username + \" \" + form.Password)\r\n        db.collection('User').get().then((querySnapshot) => {\r\n            console.log(querySnapshot);\r\n            querySnapshot.forEach((doc) => {\r\n          //      console.log(doc.data().Email + \" \" + doc.data().Password + \" \" );\r\n                if(doc.data().email === form.Username && doc.data().password === form.Password){\r\n                    //alert('hello' + doc.data().username);\r\n                    let token = jwt.sign({username: doc.data().username,email: form.Username, password: form.Password}, 'A_VERY_LONG_STRING_FOR_AUTHNETICATION_AND_USER_PROTECTION', {algorithm: 'HS256'}, {expiresIn: '1hr'});\r\n                    setToken(token);\r\n                    console.log(token);\r\n                     \r\n                    flag = 0;\r\n                }\r\n            })\r\n        }).catch(err => alert(err)).then(() => {if (flag === 1) alert('Invalid credentials')});\r\n    }\r\n        return ( \r\n            <section className = 'vh-100 overflow-hidden'>\r\n                <div className = 'contianer-fluid'>\r\n                    <div className = 'row login-container'>\r\n                        <div className = 'login'>\r\n                            <div className = 'col-md-5 col-lg-5 col-xl-4 offset-xl-1 login-form'>\r\n                                <div className = 'col' >\r\n                                    <img className = 'img-fluid mb-3' src= {logo} alt=\"logo\" />\r\n                                </div>\r\n                                <form onSubmit = {handleSubmit} className = 'mt-4'>\r\n                                        <div className = 'form-outline mb-3 col-8'>\r\n                                            <input type=\"email\" id='email' className = 'form-control' name=\"Username\" placeholder = 'Username' onChange = {handleInputChange}/>\r\n                                        </div>\r\n                                        <div className = 'form-outline mb-5 col-8'>\r\n                                            <input type=\"password\" id='password' className = 'form-control' name=\"Password\" placeholder = 'Password' onChange = {handleInputChange}/>\r\n                                        </div>\r\n                                        <div className = 'form-outline col-6'>\r\n                                            <input type=\"Submit\" id='submit' className = 'form-control btn' value = \"Submit\"/>\r\n                                        </div>\r\n                                </form>\r\n                            </div>\r\n                            <div className = 'col-md-3 col-lg-4 col-xl-5 image-container'>\r\n                                <img className = 'image-fluid random'src=\"https://images.unsplash.com/photo-1617396900799-f4ec2b43c7ae?ixid=MnwxMjA3fDB8MHx2aXN1YWwtc2VhcmNofDF8fHxlbnwwfHx8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60\" alt=\"alt-img\" />    \r\n                            </div> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n}\r\n\r\nLogin.propTypes = {\r\n    setToken : PropTypes.func.isRequired\r\n}\r\n"]},"metadata":{},"sourceType":"module"}