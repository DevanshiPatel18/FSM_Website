{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport db from '../../../../firebase';\n\nconst firebase = require('firebase');\n\nrequire('firebase/firestore');\n\nrequire('firebase/auth');\n\nexport default function useStatusChange() {\n  _s();\n\n  const [workstation1Status, setWorkstation1Status] = useState(0);\n  const [workstation2Status, setWorkstation2Status] = useState(0);\n  const [workstation3Status, setWorkstation3Status] = useState(0);\n  const [totalProgess, setTotalProgress] = useState(0);\n  React.useEffect(() => {\n    db.collection('Realtime').doc('WS 1').onSnapshot(snapshot => {\n      if (snapshot.data().status !== workstation1Status) {\n        setWorkstation1Status(workstation1Status + 4);\n        if (snapshot.data().status === 'Completed') setWorkstation1Status(100);\n      }\n    });\n    db.collection('Realtime').doc('WS 2').onSnapshot(snapshot => {\n      if (snapshot.data().status !== workstation1Status) {\n        setWorkstation2Status(workstation1Status + 4);\n        if (snapshot.data().status === 'Completed') setWorkstation1Status(100);\n      }\n    });\n    db.collection('Realtime').doc('WS 3').onSnapshot(snapshot => {\n      if (snapshot.data().status !== workstation1Status) {\n        setWorkstation3Status(workstation1Status + 4);\n        if (snapshot.data().status === 'Completed') setWorkstation1Status(100);\n      }\n    });\n  }, []);\n  return {\n    workstation1Status,\n    workstation2Status,\n    workstation3Status,\n    totalProgess\n  };\n}\n\n_s(useStatusChange, \"YdW/9OAXHFoNBiPSXhNH72sXV9Y=\");","map":{"version":3,"sources":["C:/Users/HP/Desktop/FSM_Website-routing/src/components/Dashboard/Dashboard Elements/elements/statuschange.jsx"],"names":["React","useState","db","firebase","require","useStatusChange","workstation1Status","setWorkstation1Status","workstation2Status","setWorkstation2Status","workstation3Status","setWorkstation3Status","totalProgess","setTotalProgress","useEffect","collection","doc","onSnapshot","snapshot","data","status"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,EAAP,MAAe,sBAAf;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACAA,OAAO,CAAC,oBAAD,CAAP;;AACAA,OAAO,CAAC,eAAD,CAAP;;AAGA,eAAe,SAASC,eAAT,GAA0B;AAAA;;AAErC,QAAM,CAACC,kBAAD,EAAqBC,qBAArB,IAA8CN,QAAQ,CAAC,CAAD,CAA5D;AACA,QAAM,CAACO,kBAAD,EAAqBC,qBAArB,IAA8CR,QAAQ,CAAC,CAAD,CAA5D;AACA,QAAM,CAACS,kBAAD,EAAqBC,qBAArB,IAA8CV,QAAQ,CAAC,CAAD,CAA5D;AACA,QAAM,CAACW,YAAD,EAAeC,gBAAf,IAAmCZ,QAAQ,CAAC,CAAD,CAAjD;AAEAD,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AAClBZ,IAAAA,EAAE,CAACa,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8B,MAA9B,EAAsCC,UAAtC,CAAkDC,QAAD,IAAc;AAC3D,UAAIA,QAAQ,CAACC,IAAT,GAAgBC,MAAhB,KAA2Bd,kBAA/B,EAAkD;AAC1CC,QAAAA,qBAAqB,CAACD,kBAAkB,GAAG,CAAtB,CAArB;AACJ,YAAGY,QAAQ,CAACC,IAAT,GAAgBC,MAAhB,KAA2B,WAA9B,EACIb,qBAAqB,CAAC,GAAD,CAArB;AAEP;AACJ,KAPD;AASAL,IAAAA,EAAE,CAACa,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8B,MAA9B,EAAsCC,UAAtC,CAAkDC,QAAD,IAAc;AAC3D,UAAIA,QAAQ,CAACC,IAAT,GAAgBC,MAAhB,KAA2Bd,kBAA/B,EAAkD;AAC1CG,QAAAA,qBAAqB,CAACH,kBAAkB,GAAG,CAAtB,CAArB;AACJ,YAAGY,QAAQ,CAACC,IAAT,GAAgBC,MAAhB,KAA2B,WAA9B,EACIb,qBAAqB,CAAC,GAAD,CAArB;AAEP;AACJ,KAPD;AASAL,IAAAA,EAAE,CAACa,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8B,MAA9B,EAAsCC,UAAtC,CAAkDC,QAAD,IAAc;AAC3D,UAAIA,QAAQ,CAACC,IAAT,GAAgBC,MAAhB,KAA2Bd,kBAA/B,EAAkD;AAC1CK,QAAAA,qBAAqB,CAACL,kBAAkB,GAAG,CAAtB,CAArB;AACJ,YAAGY,QAAQ,CAACC,IAAT,GAAgBC,MAAhB,KAA2B,WAA9B,EACIb,qBAAqB,CAAC,GAAD,CAArB;AAEP;AACJ,KAPD;AAQH,GA3BD,EA2BE,EA3BF;AA6BA,SAAM;AACFD,IAAAA,kBADE;AAEFE,IAAAA,kBAFE;AAGFE,IAAAA,kBAHE;AAIFE,IAAAA;AAJE,GAAN;AAOH;;GA3CuBP,e","sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport db from '../../../../firebase';\r\nconst firebase = require('firebase');\r\nrequire('firebase/firestore')\r\nrequire('firebase/auth')\r\n\r\n\r\nexport default function useStatusChange(){\r\n\r\n    const [workstation1Status, setWorkstation1Status] = useState(0);\r\n    const [workstation2Status, setWorkstation2Status] = useState(0);\r\n    const [workstation3Status, setWorkstation3Status] = useState(0);\r\n    const [totalProgess, setTotalProgress] = useState(0);\r\n\r\n    React.useEffect(() => {\r\n        db.collection('Realtime').doc('WS 1').onSnapshot((snapshot) => {\r\n            if (snapshot.data().status !== workstation1Status){\r\n                    setWorkstation1Status(workstation1Status + 4)\r\n                if(snapshot.data().status === 'Completed')\r\n                    setWorkstation1Status(100)\r\n\r\n            }\r\n        })\r\n\r\n        db.collection('Realtime').doc('WS 2').onSnapshot((snapshot) => {\r\n            if (snapshot.data().status !== workstation1Status){\r\n                    setWorkstation2Status(workstation1Status + 4)\r\n                if(snapshot.data().status === 'Completed')\r\n                    setWorkstation1Status(100)\r\n\r\n            }\r\n        })\r\n\r\n        db.collection('Realtime').doc('WS 3').onSnapshot((snapshot) => {\r\n            if (snapshot.data().status !== workstation1Status){\r\n                    setWorkstation3Status(workstation1Status + 4)\r\n                if(snapshot.data().status === 'Completed')\r\n                    setWorkstation1Status(100)\r\n\r\n            }\r\n        })\r\n    },[])\r\n\r\n    return{\r\n        workstation1Status,\r\n        workstation2Status,\r\n        workstation3Status,\r\n        totalProgess\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}