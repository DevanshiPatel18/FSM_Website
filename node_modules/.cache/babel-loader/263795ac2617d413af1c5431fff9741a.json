{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport db from '../../../../firebase';\n\nconst firebase = require('firebase');\n\nrequire('firebase/firestore');\n\nrequire('firebase/auth');\n\nexport default function useStatusChange() {\n  _s();\n\n  const [workstation1Status, setWorkstation1Status] = useState(0);\n  const [workstation2Status, setWorkstation2Status] = useState(0);\n  const [workstation3Status, setWorkstation3Status] = useState(0);\n  const [totalProgess, setTotalProgress] = useState(0);\n  React.useEffect(() => {\n    db.collection('Realtime').doc('WS 1').onSnapshot(snapshot => {\n      if (snapshot.data().status === 'Completed') setWorkstation1Status(100);else if (snapshot.data().status !== workstation1Status) {\n        setWorkstation1Status(workstation1Status + 4);\n      }\n    });\n    db.collection('Realtime').doc('WS 2').onSnapshot(snapshot => {\n      if (snapshot.data().status === 'Completed') setWorkstation2Status(100);else if (snapshot.data().status !== workstation2Status) {\n        setWorkstation1Status(workstation2Status + 4);\n      }\n    });\n    db.collection('Realtime').doc('WS 3').onSnapshot(snapshot => {\n      if (snapshot.data().status === 'Completed') setWorkstation3Status(100);else if (snapshot.data().status !== workstation3Status) {\n        setWorkstation3Status(workstation3Status + 4);\n      }\n    });\n    db.collection('OrderTest').doc('CurrentOrder').onSnapshot(snapshot => {\n      if (snapshot.data().Process === 'Completed') setWorkstation3Status(100);else if (snapshot.data().Process !== workstation3Status) {\n        setWorkstation3Status(workstation3Status + 0.4);\n      }\n    });\n  }, []);\n  return {\n    workstation1Status,\n    workstation2Status,\n    workstation3Status,\n    totalProgess\n  };\n}\n\n_s(useStatusChange, \"YdW/9OAXHFoNBiPSXhNH72sXV9Y=\");","map":{"version":3,"sources":["C:/Users/HP/Desktop/FSM_Website-routing/src/components/Dashboard/Dashboard Elements/elements/statuschange.jsx"],"names":["React","useState","db","firebase","require","useStatusChange","workstation1Status","setWorkstation1Status","workstation2Status","setWorkstation2Status","workstation3Status","setWorkstation3Status","totalProgess","setTotalProgress","useEffect","collection","doc","onSnapshot","snapshot","data","status","Process"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,EAAP,MAAe,sBAAf;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACAA,OAAO,CAAC,oBAAD,CAAP;;AACAA,OAAO,CAAC,eAAD,CAAP;;AAGA,eAAe,SAASC,eAAT,GAA0B;AAAA;;AAErC,QAAM,CAACC,kBAAD,EAAqBC,qBAArB,IAA8CN,QAAQ,CAAC,CAAD,CAA5D;AACA,QAAM,CAACO,kBAAD,EAAqBC,qBAArB,IAA8CR,QAAQ,CAAC,CAAD,CAA5D;AACA,QAAM,CAACS,kBAAD,EAAqBC,qBAArB,IAA8CV,QAAQ,CAAC,CAAD,CAA5D;AACA,QAAM,CAACW,YAAD,EAAeC,gBAAf,IAAmCZ,QAAQ,CAAC,CAAD,CAAjD;AAEAD,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AAClBZ,IAAAA,EAAE,CAACa,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8B,MAA9B,EAAsCC,UAAtC,CAAkDC,QAAD,IAAc;AAE3D,UAAGA,QAAQ,CAACC,IAAT,GAAgBC,MAAhB,KAA2B,WAA9B,EACAb,qBAAqB,CAAC,GAAD,CAArB,CADA,KAEK,IAAGW,QAAQ,CAACC,IAAT,GAAgBC,MAAhB,KAA2Bd,kBAA9B,EAAiD;AAC9CC,QAAAA,qBAAqB,CAACD,kBAAkB,GAAG,CAAtB,CAArB;AAEP;AACJ,KARD;AAUAJ,IAAAA,EAAE,CAACa,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8B,MAA9B,EAAsCC,UAAtC,CAAkDC,QAAD,IAAc;AAC3D,UAAGA,QAAQ,CAACC,IAAT,GAAgBC,MAAhB,KAA2B,WAA9B,EACAX,qBAAqB,CAAC,GAAD,CAArB,CADA,KAEK,IAAGS,QAAQ,CAACC,IAAT,GAAgBC,MAAhB,KAA2BZ,kBAA9B,EAAiD;AAC9CD,QAAAA,qBAAqB,CAACC,kBAAkB,GAAG,CAAtB,CAArB;AAEP;AACJ,KAPD;AASAN,IAAAA,EAAE,CAACa,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8B,MAA9B,EAAsCC,UAAtC,CAAkDC,QAAD,IAAc;AAC3D,UAAGA,QAAQ,CAACC,IAAT,GAAgBC,MAAhB,KAA2B,WAA9B,EACAT,qBAAqB,CAAC,GAAD,CAArB,CADA,KAEK,IAAGO,QAAQ,CAACC,IAAT,GAAgBC,MAAhB,KAA2BV,kBAA9B,EAAiD;AAC9CC,QAAAA,qBAAqB,CAACD,kBAAkB,GAAG,CAAtB,CAArB;AAEP;AACJ,KAPD;AASAR,IAAAA,EAAE,CAACa,UAAH,CAAc,WAAd,EAA2BC,GAA3B,CAA+B,cAA/B,EAA+CC,UAA/C,CAA2DC,QAAD,IAAc;AACpE,UAAGA,QAAQ,CAACC,IAAT,GAAgBE,OAAhB,KAA4B,WAA/B,EACAV,qBAAqB,CAAC,GAAD,CAArB,CADA,KAEK,IAAGO,QAAQ,CAACC,IAAT,GAAgBE,OAAhB,KAA4BX,kBAA/B,EAAkD;AAC/CC,QAAAA,qBAAqB,CAACD,kBAAkB,GAAG,GAAtB,CAArB;AAEP;AACJ,KAPD;AAQH,GArCD,EAqCE,EArCF;AAuCA,SAAM;AACFJ,IAAAA,kBADE;AAEFE,IAAAA,kBAFE;AAGFE,IAAAA,kBAHE;AAIFE,IAAAA;AAJE,GAAN;AAOH;;GArDuBP,e","sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport db from '../../../../firebase';\r\nconst firebase = require('firebase');\r\nrequire('firebase/firestore')\r\nrequire('firebase/auth')\r\n\r\n\r\nexport default function useStatusChange(){\r\n\r\n    const [workstation1Status, setWorkstation1Status] = useState(0);\r\n    const [workstation2Status, setWorkstation2Status] = useState(0);\r\n    const [workstation3Status, setWorkstation3Status] = useState(0);\r\n    const [totalProgess, setTotalProgress] = useState(0);\r\n\r\n    React.useEffect(() => {\r\n        db.collection('Realtime').doc('WS 1').onSnapshot((snapshot) => {\r\n            \r\n            if(snapshot.data().status === 'Completed')\r\n            setWorkstation1Status(100)\r\n            else if(snapshot.data().status !== workstation1Status){\r\n                    setWorkstation1Status(workstation1Status + 4)\r\n\r\n            }\r\n        })\r\n\r\n        db.collection('Realtime').doc('WS 2').onSnapshot((snapshot) => {\r\n            if(snapshot.data().status === 'Completed')\r\n            setWorkstation2Status(100)\r\n            else if(snapshot.data().status !== workstation2Status){\r\n                    setWorkstation1Status(workstation2Status + 4)\r\n\r\n            }\r\n        })\r\n\r\n        db.collection('Realtime').doc('WS 3').onSnapshot((snapshot) => {\r\n            if(snapshot.data().status === 'Completed')\r\n            setWorkstation3Status(100)\r\n            else if(snapshot.data().status !== workstation3Status){\r\n                    setWorkstation3Status(workstation3Status + 4)\r\n\r\n            }\r\n        })\r\n\r\n        db.collection('OrderTest').doc('CurrentOrder').onSnapshot((snapshot) => {\r\n            if(snapshot.data().Process === 'Completed')\r\n            setWorkstation3Status(100)\r\n            else if(snapshot.data().Process !== workstation3Status){\r\n                    setWorkstation3Status(workstation3Status + 0.4)\r\n\r\n            }\r\n        })\r\n    },[])\r\n\r\n    return{\r\n        workstation1Status,\r\n        workstation2Status,\r\n        workstation3Status,\r\n        totalProgess\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}