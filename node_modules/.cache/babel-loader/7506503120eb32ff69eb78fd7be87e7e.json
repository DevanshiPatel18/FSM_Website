{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport db from '../../../../firebase';\n\nconst firebase = require('firebase');\n\nrequire('firebase/firestore');\n\nrequire('firebase/auth');\n\nexport default function useWorsktationTimeAnalytics() {\n  _s();\n\n  const [workstation1Time, setWorkstation1Time] = useState(new Date());\n  const [workstation2time, setWorkstation2Time] = useState(new Date());\n  const [workstation3Time, setWorkstation3Time] = useState(new Date());\n  const [orderTime, setOrderTime] = useState(new Date());\n  const [currentTimes, setCurrentTimes] = useState({\n    workstation1Timestamp: new Date(),\n    workstation2Timestamp: new Date(),\n    workstation3Timestamp: new Date()\n  });\n  React.useEffect(() => {\n    db.collection(\"Order\").orderBy(\"Time\", \"desc\").limit(1).onSnapshot(snapshot => {\n      setOrderTime(new Date(snapshot.docs[0].data().Time.seconds));\n    });\n    db.collection('Realtime').onSnapshot(snapshot => {\n      //console.log(snapshot.docs[0].data().timeStamp + \" \" +snapshot.docs[1].data().timeStamp + \" \" +snapshot.docs[2].data().timeStamp)\n      setCurrentTimes({ ...currentTimes,\n        workstation1Timestamp: new Date(snapshot.docs[0].data().timeStamp.seconds),\n        workstation2Timestamp: new Date(snapshot.docs[1].data().timeStamp.seconds),\n        workstation3Timestamp: new Date(snapshot.docs[2].data().timeStamp.seconds)\n      });\n    }); // setWorkstation1Time(orderTime.getTime() - currentTimes.workstation1Timestamp.getTime());\n  }, []);\n  console.log(typeof orderTime);\n  return workstation1Time, workstation2time, workstation3Time;\n}\n\n_s(useWorsktationTimeAnalytics, \"a8mmURp+aFE2c8OJrn26W7vKtkU=\");","map":{"version":3,"sources":["C:/Users/HP/Desktop/FSM_Website-routing/src/components/Dashboard/Dashboard Elements/elements/workstationTimeAnalysis.jsx"],"names":["React","useState","useEffect","db","firebase","require","useWorsktationTimeAnalytics","workstation1Time","setWorkstation1Time","Date","workstation2time","setWorkstation2Time","workstation3Time","setWorkstation3Time","orderTime","setOrderTime","currentTimes","setCurrentTimes","workstation1Timestamp","workstation2Timestamp","workstation3Timestamp","collection","orderBy","limit","onSnapshot","snapshot","docs","data","Time","seconds","timeStamp","console","log"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,EAAP,MAAe,sBAAf;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACAA,OAAO,CAAC,oBAAD,CAAP;;AACAA,OAAO,CAAC,eAAD,CAAP;;AAEA,eAAe,SAASC,2BAAT,GAAsC;AAAA;;AACjD,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CP,QAAQ,CAAC,IAAIQ,IAAJ,EAAD,CAAxD;AACA,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CV,QAAQ,CAAC,IAAIQ,IAAJ,EAAD,CAAxD;AACA,QAAM,CAACG,gBAAD,EAAmBC,mBAAnB,IAA0CZ,QAAQ,CAAC,IAAIQ,IAAJ,EAAD,CAAxD;AACA,QAAM,CAACK,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,IAAIQ,IAAJ,EAAD,CAA1C;AACA,QAAM,CAACO,YAAD,EAAeC,eAAf,IAAkChB,QAAQ,CAC5C;AAEIiB,IAAAA,qBAAqB,EAAE,IAAIT,IAAJ,EAF3B;AAGIU,IAAAA,qBAAqB,EAAE,IAAIV,IAAJ,EAH3B;AAIIW,IAAAA,qBAAqB,EAAG,IAAIX,IAAJ;AAJ5B,GAD4C,CAAhD;AAQAT,EAAAA,KAAK,CAACE,SAAN,CAAgB,MAAM;AAGlBC,IAAAA,EAAE,CAACkB,UAAH,CAAc,OAAd,EAAuBC,OAAvB,CAA+B,MAA/B,EAAuC,MAAvC,EAA+CC,KAA/C,CAAqD,CAArD,EAAwDC,UAAxD,CAAoEC,QAAD,IAAc;AAC7EV,MAAAA,YAAY,CAAE,IAAIN,IAAJ,CAASgB,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,IAAjB,GAAwBC,IAAxB,CAA6BC,OAAtC,CAAF,CAAZ;AACH,KAFD;AAIA1B,IAAAA,EAAE,CAACkB,UAAH,CAAc,UAAd,EAA0BG,UAA1B,CAAsCC,QAAD,IAAc;AAC/C;AACAR,MAAAA,eAAe,CAAC,EAAC,GAAGD,YAAJ;AAAkBE,QAAAA,qBAAqB,EAAI,IAAIT,IAAJ,CAASgB,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,IAAjB,GAAwBG,SAAxB,CAAkCD,OAA3C,CAA3C;AAAgGV,QAAAA,qBAAqB,EAAI,IAAIV,IAAJ,CAAUgB,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,IAAjB,GAAwBG,SAAxB,CAAkCD,OAA5C,CAAzH;AAA8KT,QAAAA,qBAAqB,EAAG,IAAIX,IAAJ,CAASgB,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,IAAjB,GAAwBG,SAAxB,CAAkCD,OAA3C;AAAtM,OAAD,CAAf;AAEH,KAJD,EAPkB,CAanB;AACF,GAdD,EAcG,EAdH;AAeAE,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAOlB,SAAnB;AAEA,SACIP,gBAAgB,EAChBG,gBADgB,EAEhBE,gBAHJ;AAKH;;GAnCuBN,2B","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport db from '../../../../firebase';\r\nconst firebase = require('firebase');\r\nrequire('firebase/firestore')\r\nrequire('firebase/auth')\r\n\r\nexport default function useWorsktationTimeAnalytics(){\r\n    const [workstation1Time, setWorkstation1Time] = useState(new Date);\r\n    const [workstation2time, setWorkstation2Time] = useState(new Date);\r\n    const [workstation3Time, setWorkstation3Time] = useState(new Date);\r\n    const [orderTime, setOrderTime] = useState(new Date);\r\n    const [currentTimes, setCurrentTimes] = useState(\r\n        {\r\n           \r\n            workstation1Timestamp: new Date(),\r\n            workstation2Timestamp: new Date(),\r\n            workstation3Timestamp : new Date()\r\n        }\r\n    )\r\n    React.useEffect(() => {\r\n   \r\n        \r\n        db.collection(\"Order\").orderBy(\"Time\", \"desc\").limit(1).onSnapshot((snapshot) => {\r\n            setOrderTime( new Date(snapshot.docs[0].data().Time.seconds))\r\n        });\r\n\r\n        db.collection('Realtime').onSnapshot((snapshot) => {\r\n            //console.log(snapshot.docs[0].data().timeStamp + \" \" +snapshot.docs[1].data().timeStamp + \" \" +snapshot.docs[2].data().timeStamp)\r\n            setCurrentTimes({...currentTimes, workstation1Timestamp :  new Date(snapshot.docs[0].data().timeStamp.seconds) ,workstation2Timestamp  : new Date( snapshot.docs[1].data().timeStamp.seconds),workstation3Timestamp : new Date(snapshot.docs[2].data().timeStamp.seconds) });\r\n            \r\n        })\r\n\r\n       // setWorkstation1Time(orderTime.getTime() - currentTimes.workstation1Timestamp.getTime());\r\n    }, [])\r\n    console.log(typeof orderTime);\r\n    \r\n    return(\r\n        workstation1Time,\r\n        workstation2time,\r\n        workstation3Time\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}